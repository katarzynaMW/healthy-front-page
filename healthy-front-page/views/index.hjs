<!DOCTYPE html>
<html>
  <head>
    <title>{{ title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='/stylesheets/jquery.gridster.css' />
    <link href="/stylesheets/bootstrap.css" rel="stylesheet">
    <link href="/stylesheets/style.css" rel="stylesheet">
        <script src="/socket.io/socket.io.js"></script>
    <script src="/javascripts/jquery-2.0.3.min.js"></script>
  </head>
  <body>

    <div id="wrap">

        <!-- Fixed navbar -->
        <header role="navigation" class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="../">Healthy Front Page</a>
                    <button data-target="#navbar-main" data-toggle="collapse" type="button" class="navbar-toggle">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div id="navbar-main" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a id="themes" href="#" data-toggle="dropdown" class="dropdown-toggle">Menu<span class="caret"></span></a>
                            <ul aria-labelledby="themes" class="dropdown-menu">
                                <li><a href="../default/" tabindex="-1">Default</a></li>
                                <li class="divider"></li>
                                <li><a href="../amelia/" tabindex="-1">Amelia</a></li>
                                <li><a href="../cerulean/" tabindex="-1">Cerulean</a></li>
                                <li><a href="../cosmo/" tabindex="-1">Cosmo</a></li>
                                <li><a href="../cyborg/" tabindex="-1">Cyborg</a></li>
                                <li><a href="../flatly/" tabindex="-1">Flatly</a></li>
                                <li><a href="../journal/" tabindex="-1">Journal</a></li>
                                <li><a href="../readable/" tabindex="-1">Readable</a></li>
                                <li><a href="../simplex/" tabindex="-1">Simplex</a></li>
                                <li><a href="../slate/" tabindex="-1">Slate</a></li>
                                <li><a href="../spacelab/" tabindex="-1">Spacelab</a></li>
                                <li><a href="../united/" tabindex="-1">United</a></li>
                                <li><a href="../yeti/" tabindex="-1">Yeti</a></li>
                            </ul>
                        </li>
                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li><a target="_blank" href="#">Hello, User</a></li>
                    </ul>

                </div>
            </div>
        </header>

        <!-- app content -->
        <div class="container-fluid">
           <div id="main-container" class="row">
                <section class="waiting-list app-col col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Article list</div>
                        <div class="panel-body">
                            <ul class="drop-articles-here list-unstyled">

                            </ul>
                           
                        </div>
                    </div>
                </section>

                </section>

                <section class="main-preview app-col col-sm-7">
                    <div class="panel panel-default">
                        <div class="panel-heading">Front page preview</div>
                        <div class="panel-body">
                            <div id="phone-mockup">
                                <div id="phone-bg">
                                    <div id="layout-preview">
                                        <!--THE GRID<sup><a href="http://www.youtube.com/watch?v=ZITCw6QKrtU">1</a></sup>:-->
                                        <div class="gridster">
                                            <ul>
                                                <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">a</li>
                                                <li data-row="1" data-col="2" data-sizex="1" data-sizey="1">b</li>
                                                <li data-row="2" data-col="1" data-sizex="2" data-sizey="1">c</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                      <section class="context-menu app-col col-sm-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">Item options</div>
                        <div class="panel-body">
                            Panel content
                        </div>
                    </div>
                </section>
           </div>
        </div>

    </div>

    <div id="footer">
        <div class="container-fluid">
            <p class="text-muted pull-left">STP Project (C) 2013, 12th December</p>
            <button type="button" class="btn btn-lg btn-success btn-export pull-right">Export</button>
        </div>
    </div>








    <!-- libraries -->
    <script src='/javascripts/jquery-2.0.3.min.js'></script>
    <script src='/javascripts/jquery.gridster.js'></script>

    <!-- env and our scripts -->
    <script>
        var hfp = hfp || {}; // our namespace
    </script>
    <script src='/javascripts/grid.js'></script>
    <!--<script src='/javascripts/grid-export/v1.js'></script>-->
    <script src='/javascripts/grid-export/v2.js'></script>

    <script>
        // 1. SETUP: choose implementation
        hfp.serializer = hfp.serializer2; // now you can call hfp.serialize() to get HTML or array

        // 1.5: UTILITY METHOD
        hfp.log = function(header, stuff) {
            if (typeof stuff === 'string') {
                console.log('[' + header + '] ' + stuff)
            } else {
                console.group('[' + header + ']');
                console.dir(stuff);
                console.groupEnd();
            }
        };

        // 2. SAVING CURRENT LAYOUT
        $body = jQuery('body'),
            $serializeBtn = jQuery('<button>save</button>')
                .on('click', function() {
                    var ser =  hfp.serializer.serialize();
                    hfp.log('serialized grid', ser);
                    socket.emit('save', ser);
                })
                .appendTo($body)
    </script>

    <script>
        var loc = window.location, new_uri, i = 1;
        if (loc.protocol === "https:") {
            new_uri = "wss:";
        } else {
            new_uri = "ws:";
        }
        new_uri += "//" + loc.host;


        var socket = io.connect(new_uri);
        socket.on('news', function (data) {
            $(".drop-articles-here").html(data);
        });
        socket.on('refresh', function(serialized) {
            console.log('refresh' + (i++));
            hfp.buildFromSerialized(serialized);
        })
    </script>
    <script src="/javascripts/bootstrap.min.js"></script>

  </body>
</html>
